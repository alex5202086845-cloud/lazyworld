<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8">
    <title>LazyWorld â€“ Auto Reset Dashboard</title>
    <style>
      body {
        margin: 0;
        background: #0b0f14;
        color: #9bb0c8;
        font-family: system-ui, sans-serif;
        height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
      }
      h1 { color: #7cc2ff; font-weight: 600; }
      #log { font-size: 13px; opacity: .7; margin-top: 8px; }
      iframe { display:none; }
    </style>
  </head>
  <body>
    <h1>â˜¯ LazyWorld Ä‘ang váº­n hÃ nh...</h1>
    <p>Náº¿u tháº¿ giá»›i dá»«ng, há»‡ thá»‘ng sáº½ tá»± tÃ¡i sinh (auto reset).</p>
    <div id="log">Äang khá»Ÿi Ä‘á»™ng...</div>

    <!-- Cháº¡y AI.html trong ná»n -->
    <iframe id="world" src="AI.html"></iframe>

    <script>
      const log = m => {
        const t = new Date().toLocaleTimeString();
        document.getElementById("log").textContent = `[${t}] ${m}`;
      };

      let lastPing = Date.now();
      let lastTick = 0;

      // Nháº­n tÃ­n hiá»‡u tá»« AI.html
      window.addEventListener("message", e => {
        if (!e.data || !e.data.tick) return;
        lastTick = e.data.tick;
        lastPing = Date.now();
      });

      // Gá»­i yÃªu cáº§u ping Ä‘á»‹nh ká»³
      setInterval(() => {
        const world = document.getElementById("world").contentWindow;
        if (world) world.postMessage({ cmd: "ping" }, "*");
      }, 3000);

      // Theo dÃµi dá»«ng â†’ reset
      setInterval(() => {
        const dt = (Date.now() - lastPing) / 1000;
        if (dt > 30) {
          log("PhÃ¡t hiá»‡n ngá»«ng hoáº¡t Ä‘á»™ng â†’ Reset tháº¿ giá»›i ğŸŒŒ");
          document.getElementById("world").src = "AI.html?" + Date.now();
          lastPing = Date.now();
        }
      }, 5000);

      log("Äang khá»Ÿi táº¡o LazyWorld...");
    </script>
  </body>
</html>
